(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(21)},15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(8),c=n.n(s),l=n(9),i=n(2),r=n(3),d=n(5),h=n(4),p=n(6),u=n(1),m=(n(15),n(17),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={completed:n.props.completed},n.deleteTodo=n.deleteTodo.bind(Object(u.a)(Object(u.a)(n))),n.completeTodo=n.completeTodo.bind(Object(u.a)(Object(u.a)(n))),n}return Object(p.a)(t,e),Object(r.a)(t,[{key:"deleteTodo",value:function(e){console.log(e.target),this.props.deleteEventhandler(this)}},{key:"completeTodo",value:function(e){console.log(e),this.setState({completed:!this.state.completed}),console.log(this.state.completed),this.props.completeEventhandler(this.props.id,this.state.completed)}},{key:"handleClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props.text,t="notChecked";return this.state.completed&&(t="checked"),o.a.createElement("li",{id:this.props.id},o.a.createElement("span",{id:"text",className:t},e),o.a.createElement("i",{className:"fa fa-check",id:this.props.id,onClick:this.completeTodo}),o.a.createElement("i",{className:"fa fa-times",id:this.props.id,onClick:this.deleteTodo}))}}]),t}(a.Component)),v=(n(19),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{id:"add-task2",onSubmit:this.props.addEventhandler},o.a.createElement("div",{className:"textbox"},o.a.createElement("label",{htmlFor:"task",className:"labelTask"}),o.a.createElement("input",{type:"text",id:"task",placeholder:"ToDo...",value:this.props.input,onChange:this.props.onChange})),o.a.createElement("div",null,o.a.createElement("button",{className:"btn",onClick:this.props.addEventhandler},"ADD")))}}]),t}(a.Component)),b="a2cb9a-7cbaf2-ce715a-4f654b-0fc018",f=function(e){function t(e){var n;return Object(i.a)(this,t),n=Object(d.a)(this,Object(h.a)(t).call(this,e)),console.log(n.props),n.state={todos:[],input:""},n.deleteEventhandler=n.deleteEventhandler.bind(Object(u.a)(Object(u.a)(n))),n.showmainpage=n.showmainpage.bind(Object(u.a)(Object(u.a)(n))),n.showformpage=n.showformpage.bind(Object(u.a)(Object(u.a)(n))),n.addEventhandler=n.addEventhandler.bind(Object(u.a)(Object(u.a)(n))),n.completeEventhandler=n.completeEventhandler.bind(Object(u.a)(Object(u.a)(n))),n.onChange=n.onChange.bind(Object(u.a)(Object(u.a)(n))),n.sortEventhandler=n.sortEventhandler.bind(Object(u.a)(Object(u.a)(n))),n}return Object(p.a)(t,e),Object(r.a)(t,[{key:"onClick",value:function(){this.setState({showComponent:!0})}},{key:"deleteEventhandler",value:function(e){console.log(e);console.log(e.props.id),fetch("https://cse204.work/todos/"+e.props.id,{method:"DELETE",headers:{"X-API-KEY":b,"Content-Type":"application/json"}});var t=this.state.todos.filter(function(t){if(t.id!==e.props.id)return e});this.setState({todos:t})}},{key:"onChange",value:function(e){this.setState({input:e.target.value})}},{key:"addEventhandler",value:function(e){console.log(e.target),console.log("enter here"),e.preventDefault();var t=this,n={text:t.state.input};console.log(n);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);console.log(e),t.setState({todos:Object(l.a)(t.state.todos).concat([e]),input:""})}else 4==this.readyState&&console.log(this.responseText)},a.open("POST","https://cse204.work/todos",!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("x-api-key",b),a.send(JSON.stringify(n))}},{key:"completeEventhandler",value:function(e,t){console.log("enter complete");var n=this;console.log(e,t);var a={completed:t},o=new XMLHttpRequest;o.onreadystatechange=function(){4==this.readyState&&200==this.status?n.setState({completed:a.completed}):4==this.readyState&&console.log(this.responseText)},o.open("PUT","https://cse204.work/todos/"+e,!0),o.setRequestHeader("Content-type","application/json"),o.setRequestHeader("x-api-key",b),o.send(JSON.stringify(a))}},{key:"componentDidMount",value:function(){var e=this;fetch("https://cse204.work/todos",{method:"GET",headers:{"X-API-KEY":b,"Content-Type":"application/json"}}).then(function(t){t.json().then(function(n){console.log(t),e.setState({todos:n})})})}},{key:"showformpage",value:function(){this.setState({showPage:!0})}},{key:"showmainpage",value:function(){this.setState({showPage:!1})}},{key:"sortEventhandler",value:function(e){console.log("enter sorting");var t=this.state.todos;t.sort(function(e,t){return e.text.localeCompare(t.text)}),this.setState({todos:t})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"main"},o.a.createElement(v,{addEventhandler:this.addEventhandler,onChange:this.onChange,input:this.state.input}),o.a.createElement("button",{className:"sortbutton",onClick:this.sortEventhandler},"SORT ALPHABETICALLY"),o.a.createElement("div",{className:"header"},o.a.createElement("div",{id:"left-header"},o.a.createElement("h2",null,"To-Do:")),o.a.createElement("div",{id:"right-header"})),o.a.createElement("ol",{id:"todos"},this.state.todos.map(function(t){return o.a.createElement(m,{key:t.id,id:t.id,completed:t.completed,completeEventhandler:e.completeEventhandler,text:t.text,deleteEventhandler:e.deleteEventhandler})})))}}]),t}(a.Component);c.a.render(o.a.createElement(f,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.edb5530f.chunk.js.map